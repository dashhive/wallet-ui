/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/blakejs@1.2.1/blake2b.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 *
 * https://github.com/dcposch/blakejs
 * https://esm.run/blakejs@1.2.1/blake2b.js
 * https://cdn.jsdelivr.net/npm/blakejs@1.2.1/blake2b.js/+esm
 */
function e(e){return(4294967296+e).toString(16).substring(1)}const t={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(t,n,r){let o="\n"+t+" = ";for(let l=0;l<n.length;l+=2){if(32===r)o+=e(n[l]).toUpperCase(),o+=" ",o+=e(n[l+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);o+=e(n[l+1]).toUpperCase(),o+=e(n[l]).toUpperCase()}l%6==4?o+="\n"+new Array(t.length+4).join(" "):l<n.length-2&&(o+=" ")}console.log(o)},testSpeed:function(e,t,n){let r=(new Date).getTime();const o=new Uint8Array(t);for(let e=0;e<t;e++)o[e]=e%256;const l=(new Date).getTime();console.log("Generated random input in "+(l-r)+"ms"),r=l;for(let l=0;l<n;l++){const n=e(o),l=(new Date).getTime(),i=l-r;r=l,console.log("Hashed in "+i+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(i/1e3)*100)/100+" MB PER SECOND")}}};function n(e,t,n){const r=e[t]+e[n];let o=e[t+1]+e[n+1];r>=4294967296&&o++,e[t]=r,e[t+1]=o}function r(e,t,n,r){let o=e[t]+n;n<0&&(o+=4294967296);let l=e[t+1]+r;o>=4294967296&&l++,e[t]=o,e[t+1]=l}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function l(e,t,o,l,i,a){const u=s[i],f=s[i+1],b=s[a],g=s[a+1];n(c,e,t),r(c,e,u,f);let h=c[l]^c[e],p=c[l+1]^c[e+1];c[l]=p,c[l+1]=h,n(c,o,l),h=c[t]^c[o],p=c[t+1]^c[o+1],c[t]=h>>>24^p<<8,c[t+1]=p>>>24^h<<8,n(c,e,t),r(c,e,b,g),h=c[l]^c[e],p=c[l+1]^c[e+1],c[l]=h>>>16^p<<16,c[l+1]=p>>>16^h<<16,n(c,o,l),h=c[t]^c[o],p=c[t+1]^c[o+1],c[t]=p>>>31^h<<1,c[t+1]=h>>>31^p<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),c=new Uint32Array(32),s=new Uint32Array(32);function u(e,t){let n=0;for(n=0;n<16;n++)c[n]=e.h[n],c[n+16]=i[n];for(c[24]=c[24]^e.t,c[25]=c[25]^e.t/4294967296,t&&(c[28]=~c[28],c[29]=~c[29]),n=0;n<32;n++)s[n]=o(e.b,4*n);for(n=0;n<12;n++)l(0,8,16,24,a[16*n+0],a[16*n+1]),l(2,10,18,26,a[16*n+2],a[16*n+3]),l(4,12,20,28,a[16*n+4],a[16*n+5]),l(6,14,22,30,a[16*n+6],a[16*n+7]),l(0,10,20,30,a[16*n+8],a[16*n+9]),l(2,12,22,24,a[16*n+10],a[16*n+11]),l(4,14,16,26,a[16*n+12],a[16*n+13]),l(6,8,18,28,a[16*n+14],a[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^c[n]^c[n+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function b(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const l={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,n&&f.set(n,32),r&&f.set(r,48);for(let e=0;e<16;e++)l.h[e]=i[e]^o(f,4*e);return t&&(g(l,t),l.c=128),l}function g(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[n]}function h(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;u(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function p(e,n,r,o,l){r=r||64,e=t.normalizeInput(e),o&&(o=t.normalizeInput(o)),l&&(l=t.normalizeInput(l));const i=b(r,n,o,l);return g(i,e),h(i)}var w={blake2b:p,blake2bHex:function(e,n,r,o,l){const i=p(e,n,r,o,l);return t.toHex(i)},blake2bInit:b,blake2bUpdate:g,blake2bFinal:h},U=w.blake2b,y=w.blake2bFinal,d=w.blake2bHex,k=w.blake2bInit,A=w.blake2bUpdate;export{U as blake2b,y as blake2bFinal,d as blake2bHex,k as blake2bInit,A as blake2bUpdate,w as default};